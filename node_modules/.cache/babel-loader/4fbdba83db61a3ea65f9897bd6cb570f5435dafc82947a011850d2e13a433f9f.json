{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport weatherApi from '../../api/weatherApi';\nexport const fetchWeatherForCoords = createAsyncThunk('weather/fetchByCoords', async ({\n  lat,\n  lon,\n  units\n}, thunkAPI) => {\n  const data = await weatherApi.getOneCall({\n    lat,\n    lon,\n    units\n  });\n  return {\n    lat,\n    lon,\n    units,\n    data\n  };\n});\nconst slice = createSlice({\n  name: 'weather',\n  initialState: {\n    lookup: {}\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchWeatherForCoords.pending, (state, action) => {\n      const {\n        lat,\n        lon,\n        units\n      } = action.meta.arg;\n      const key = `${lat},${lon},${units}`;\n      state.lookup[key] = state.lookup[key] || {};\n      state.lookup[key].status = 'loading';\n    });\n    builder.addCase(fetchWeatherForCoords.fulfilled, (state, action) => {\n      const {\n        lat,\n        lon,\n        units,\n        data\n      } = action.payload;\n      const key = `${lat},${lon},${units}`;\n      state.lookup[key] = {\n        data,\n        lastFetched: Date.now(),\n        status: 'succeeded'\n      };\n    });\n    builder.addCase(fetchWeatherForCoords.rejected, (state, action) => {\n      const {\n        lat,\n        lon,\n        units\n      } = action.meta.arg;\n      const key = `${lat},${lon},${units}`;\n      state.lookup[key] = state.lookup[key] || {};\n      state.lookup[key].status = 'failed';\n      state.lookup[key].error = action.error.message;\n    });\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","weatherApi","fetchWeatherForCoords","lat","lon","units","thunkAPI","data","getOneCall","slice","name","initialState","lookup","reducers","extraReducers","builder","addCase","pending","state","action","meta","arg","key","status","fulfilled","payload","lastFetched","Date","now","rejected","error","message","reducer"],"sources":["C:/Users/DELL/Downloads/weather-dashboard/src/features/weather/weatherSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport weatherApi from '../../api/weatherApi';\n\nexport const fetchWeatherForCoords = createAsyncThunk(\n  'weather/fetchByCoords',\n  async ({ lat, lon, units }, thunkAPI) => {\n    const data = await weatherApi.getOneCall({ lat, lon, units });\n    return { lat, lon, units, data };\n  }\n);\n\nconst slice = createSlice({\n  name: 'weather',\n  initialState: { lookup: {} },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchWeatherForCoords.pending, (state, action) => {\n      const { lat, lon, units } = action.meta.arg;\n      const key = `${lat},${lon},${units}`;\n      state.lookup[key] = state.lookup[key] || {};\n      state.lookup[key].status = 'loading';\n    });\n    builder.addCase(fetchWeatherForCoords.fulfilled, (state, action) => {\n      const { lat, lon, units, data } = action.payload;\n      const key = `${lat},${lon},${units}`;\n      state.lookup[key] = { data, lastFetched: Date.now(), status: 'succeeded' };\n    });\n    builder.addCase(fetchWeatherForCoords.rejected, (state, action) => {\n      const { lat, lon, units } = action.meta.arg;\n      const key = `${lat},${lon},${units}`;\n      state.lookup[key] = state.lookup[key] || {};\n      state.lookup[key].status = 'failed';\n      state.lookup[key].error = action.error.message;\n    });\n  }\n});\nexport default slice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,UAAU,MAAM,sBAAsB;AAE7C,OAAO,MAAMC,qBAAqB,GAAGF,gBAAgB,CACnD,uBAAuB,EACvB,OAAO;EAAEG,GAAG;EAAEC,GAAG;EAAEC;AAAM,CAAC,EAAEC,QAAQ,KAAK;EACvC,MAAMC,IAAI,GAAG,MAAMN,UAAU,CAACO,UAAU,CAAC;IAAEL,GAAG;IAAEC,GAAG;IAAEC;EAAM,CAAC,CAAC;EAC7D,OAAO;IAAEF,GAAG;IAAEC,GAAG;IAAEC,KAAK;IAAEE;EAAK,CAAC;AAClC,CACF,CAAC;AAED,MAAME,KAAK,GAAGV,WAAW,CAAC;EACxBW,IAAI,EAAE,SAAS;EACfC,YAAY,EAAE;IAAEC,MAAM,EAAE,CAAC;EAAE,CAAC;EAC5BC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAACd,qBAAqB,CAACe,OAAO,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAChE,MAAM;QAAEhB,GAAG;QAAEC,GAAG;QAAEC;MAAM,CAAC,GAAGc,MAAM,CAACC,IAAI,CAACC,GAAG;MAC3C,MAAMC,GAAG,GAAG,GAAGnB,GAAG,IAAIC,GAAG,IAAIC,KAAK,EAAE;MACpCa,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,GAAGJ,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,IAAI,CAAC,CAAC;MAC3CJ,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,CAACC,MAAM,GAAG,SAAS;IACtC,CAAC,CAAC;IACFR,OAAO,CAACC,OAAO,CAACd,qBAAqB,CAACsB,SAAS,EAAE,CAACN,KAAK,EAAEC,MAAM,KAAK;MAClE,MAAM;QAAEhB,GAAG;QAAEC,GAAG;QAAEC,KAAK;QAAEE;MAAK,CAAC,GAAGY,MAAM,CAACM,OAAO;MAChD,MAAMH,GAAG,GAAG,GAAGnB,GAAG,IAAIC,GAAG,IAAIC,KAAK,EAAE;MACpCa,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,GAAG;QAAEf,IAAI;QAAEmB,WAAW,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;QAAEL,MAAM,EAAE;MAAY,CAAC;IAC5E,CAAC,CAAC;IACFR,OAAO,CAACC,OAAO,CAACd,qBAAqB,CAAC2B,QAAQ,EAAE,CAACX,KAAK,EAAEC,MAAM,KAAK;MACjE,MAAM;QAAEhB,GAAG;QAAEC,GAAG;QAAEC;MAAM,CAAC,GAAGc,MAAM,CAACC,IAAI,CAACC,GAAG;MAC3C,MAAMC,GAAG,GAAG,GAAGnB,GAAG,IAAIC,GAAG,IAAIC,KAAK,EAAE;MACpCa,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,GAAGJ,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,IAAI,CAAC,CAAC;MAC3CJ,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,CAACC,MAAM,GAAG,QAAQ;MACnCL,KAAK,CAACN,MAAM,CAACU,GAAG,CAAC,CAACQ,KAAK,GAAGX,MAAM,CAACW,KAAK,CAACC,OAAO;IAChD,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AACF,eAAetB,KAAK,CAACuB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}